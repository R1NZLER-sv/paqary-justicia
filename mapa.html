<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Paqary Justicia - Mapa de Jueces de Paz</title>

  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
    }

    body {
      font-family: "Inter", system-ui, sans-serif;

      /* Fondo crema editorial */
      background:
        linear-gradient(135deg, rgba(234,219,200,0.5), rgba(247,239,230,0.9)),
        linear-gradient(180deg, #f7efe6, #eadbc8);
      background-blend-mode: multiply;

      color: #4a2e1f;
      display: flex;
      flex-direction: column;
    }

    header {
      background-color: #111827;
      color: #f9fafb;
      text-align: center;
      padding: 12px 16px;
      font-weight: 700;
      letter-spacing: 1px;
      font-size: 1.05rem;
    }

    #container {
      flex: 1;
      display: flex;
      min-height: 0; /* Permite escalar correctamente */
    }

    /* Panel izquierdo */
    #sidebar {
      width: 360px;
      max-width: 100%;
      background: rgba(247,239,230,0.95);
      border-right: 1px solid #d7c8b4;
      padding: 16px 18px;
      overflow-y: auto;
    }

    #sidebar h2 {
      font-size: 1.15rem;
      margin-bottom: 6px;
      color: #4a2e1f;
    }

    #sidebar p {
      font-size: 0.95rem;
      margin-bottom: 6px;
      color: #6b4a32;
    }

    .field-label {
      font-weight: 600;
      color: #4a2e1f;
    }

    .zone-pill {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 999px;
      background: #e6d2b7;
      margin-top: 6px;
      color: #4a2e1f;
      font-size: 0.8rem;
    }

    /* Mapa a la derecha */
    #map {
      flex: 1;
      min-height: 0;
      height: 100%;
    }

    /* Responsive */
    @media (max-width: 768px) {
      #container {
        flex-direction: column;
      }

      #sidebar {
        width: 100%;
        border-right: none;
        border-bottom: 1px solid #d7c8b4;
      }

      #map {
        height: 50vh;
        min-height: 300px;
      }
    }
  </style>
</head>

<body>

  <header>Paqary Justicia – Mapa de Jueces de Paz</header>

  <div id="container">

    <!-- PANEL IZQUIERDO -->
    <aside id="sidebar">
      <h2>Selecciona un juzgado en el mapa</h2>
      <p>Haz clic sobre un distrito para ver los datos del juez de paz.</p>
      <div id="zone-details"></div>
    </aside>

    <!-- MAPA -->
    <div id="map"></div>

  </div>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <script>
    // ======================================================
    // DATOS REALES — PROVINCIA AREQUIPA
    // ======================================================

    const zones = [
      { district: "Characato", court: "Characato", judge: "DEIVY HERRERA TORRES", lat: -16.4727, lng: -71.4898 },
      { district: "Chiguata", court: "Chiguata", judge: "DEIVY HERRERA TORRES", lat: -16.4074, lng: -71.3548 },
      { district: "La Joya", court: "La Joya", judge: "ROSARIO FARFÁN CCAIRI", lat: -16.3580, lng: -71.7140 },
      { district: "La Joya", court: "San José", judge: "LUCY FLORES CCARI", lat: -16.3580, lng: -71.7140 },
      { district: "La Joya", court: "San Camilo", judge: "CARLOS HERNÁNDEZ ROJAS", lat: -16.3580, lng: -71.7140 },
      { district: "La Joya", court: "La Cano", judge: "ROSARIO FARFÁN CCAIRI", lat: -16.3580, lng: -71.7140 },
      { district: "La Joya", court: "San Isidro", judge: "ELFER ASCUÑA EGO-AGUIRRE", lat: -16.3580, lng: -71.7140 },
      { district: "Mollebaya", court: "Mollebaya", judge: "PEDRO RODOLFO FLORES", lat: -16.5355, lng: -71.4483 },
      { district: "Pocsi", court: "Pocsi", judge: "SUSANA AGAPITA MAMANI", lat: -16.5522, lng: -71.4141 },
      { district: "Polobaya", court: "Polobaya", judge: "JORGE LUIS ZEGARRA", lat: -16.5919, lng: -71.4235 },
      { district: "Quequeña", court: "Quequeña", judge: "MIGUEL ÁNGEL QUISPE", lat: -16.4873, lng: -71.4407 },
      { district: "Santa Isabel de Siguas", court: "Sta. Isabel de Siguas", judge: "LUCIO GILBERTO CÁCERES", lat: -16.3269, lng: -72.1100 },
      { district: "Santa Isabel de Siguas", court: "Pitay", judge: "MARÍA ANGÉLICA HERRERA", lat: -16.3269, lng: -72.1100 },
      { district: "San Juan de Siguas", court: "San Juan de Siguas", judge: "RENE LUCIO GILES", lat: -16.3190, lng: -72.2460 },
      { district: "San Juan de Tarucani", court: "San Juan de Tarucani", judge: "ESTALINSO FLORES", lat: -16.2162, lng: -71.0707 },
      { district: "San Juan de Tarucani", court: "Huayllacucho", judge: "SERGIO MAMANI", lat: -16.2162, lng: -71.0707 },
      { district: "San Juan de Tarucani", court: "La Yunta", judge: "EUGENIA VILCA QUISPE", lat: -16.2162, lng: -71.0707 },
      { district: "Santa Rita de Siguas", court: "Santa Rita de Siguas", judge: "RENE LUCIO GILES", lat: -16.3838, lng: -72.1751 },
      { district: "Uchumayo", court: "Uchumayo", judge: "ROSENDO CÁCERES", lat: -16.4267, lng: -71.6453 },
      { district: "Uchumayo", court: "Congata", judge: "LUIS EDUARDO GONZALES", lat: -16.4267, lng: -71.6453 },
      { district: "Vítor", court: "Vítor", judge: "OLENKA XIOMARA CHAMBI", lat: -16.4130, lng: -71.9300 },
      { district: "Yarabamba", court: "Yarabamba", judge: "YOLANDA JUANA MAMANI", lat: -16.5368, lng: -71.4813 },
      { district: "Yura", court: "Yura", judge: "ELIANA RUTH BAUTISTA", lat: -16.3040, lng: -71.6750 }
    ];

    // ======================================================
    // INICIALIZAR MAPA
    // ======================================================

    const map = L.map("map").setView([-16.40, -71.54], 9);

    L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
      maxZoom: 18,
      attribution: "© OpenStreetMap contributors"
    }).addTo(map);

    // ======================================================
    // MOSTRAR DATOS EN PANEL
    // ======================================================

    const zoneDetailsDiv = document.getElementById("zone-details");

    function showZoneDetails(zone) {
      zoneDetailsDiv.innerHTML = `
        <h2>${zone.court}</h2>
        <span class="zone-pill">${zone.district}</span>
        <div style="margin-top: 12px; text-align: left;">
          <p><span class="field-label">Juez de Paz:</span><br>${zone.judge}</p>
        </div>
      `;
    }

    // ======================================================
    // MARCADORES MARRONES PAQARY
    // ======================================================

    const brownIcon = L.icon({
      iconUrl: "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-brown.png",
      shadowUrl: "https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",
      iconSize: [25, 41],
      iconAnchor: [12, 41],
      popupAnchor: [1, -34],
      shadowSize: [41, 41]
    });

    // ======================================================
    // DIBUJAR MARCADORES
    // ======================================================

    zones.forEach(zone => {
      const marker = L.marker([zone.lat, zone.lng], { icon: brownIcon })
        .addTo(map)
        .bindTooltip(`${zone.district}`, { sticky: true });

      marker.on("click", () => showZoneDetails(zone));
    });

  </script>
</body>
</html>

